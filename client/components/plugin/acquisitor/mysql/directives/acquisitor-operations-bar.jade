accordion(close-others="true")
  accordion-group(heading="Aggregations")
    div.row
      div.col-xs-12
        div(ng-if="form.aggregations.length > 0")
          accordion(close-others="true")
            div(ng-repeat="aggregation in form.aggregations")
              accordion-group(heading="{{ 'Aggregation ' + $index}}", style="margin-bottom: 5px;")
                div.row
                  div.col-xs-12
                    .form-group
                      label.control-label Aggregation
                      select.form-control.m-b(ng-model="form.aggregations[$index].type", ng-options="aggType.type for aggType in acquisitorService.aggregationTypes track by aggType.type")
                    .form-group
                      label.control-label Field      
                      select.form-control.m-b(ng-model="form.aggregations[$index].field")
                        option(value="metric") metric
                        option(value="quantity") quantity
                        option(value="type") type
                        option(value="ts") ts
      div.col-xs-12(style="margin-top: 10px;")
        a.btn.btn-default.btn-outline.btn-block.btn-sm(ng-click="addAggregation()")
          i.fa.fa-plus-circle
          | &nbsp; Add new
    //- accordion
    //-   accordion-group(heading="aggregations")
    //-     div.row
    //-       div.col-xs-12
    //-         .form-group
    //-           label.control-label Aggregation
    //-           select.form-control.m-b(ng-model="form.y.aggregations[0].type")
    //-             option(value="count") Count
    //-             option(value="avg") Average
    //-             option(value="sum") Sum
    //-             option(value="timeseries") TimeSeries
    //-         .form-group
    //-           label.control-label Field      
    //-           select.form-control.m-b(ng-model="form.y.aggregations[0].field")
    //-             option(value="metric") metric
    //-             option(value="quantity") quantity
    //-             option(value="type") type
    //-             option(value="ts") ts
    //-       div.col-xs-12
    //-         a.btn.btn-default.btn-outline.btn-block.btn-sm
    //-           i.fa.fa-plus-circle
    //-           | &nbsp; Add new
  accordion-group(heading="Groups")
    div.row
       div.col-xs-12
        div(ng-if="form.groups.length > 0")
          accordion(close-others="true")
            div(ng-repeat="group in form.groups")
              accordion-group(heading="{{ 'Group ' + $index}}", style="margin-bottom: 5px;")
                div.row
                  div.col-xs-12
                    .form-group
                      label.control-label Group
                      select.form-control.m-b(ng-model="form.groups[$index].type", ng-options="aggType.type for aggType in acquisitorService.aggregationTypes track by aggType.type")
                    .form-group
                      label.control-label Field      
                      select.form-control.m-b(ng-model="form.groups[$index].field")
                        option(value="metric") metric
                        option(value="quantity") quantity
                        option(value="type") type
                        option(value="ts") ts
                    .form-group
                      label.control-label Interval      
                      select.form-control.m-b(ng-model="form.groups[$index].field")
      div.col-xs-12(style="margin-top: 10px;")
        a.btn.btn-default.btn-outline.btn-block.btn-sm(ng-click="addGroup()")
          i.fa.fa-plus-circle
          | &nbsp; Add new
    //- accordion
    //-   accordion-group(heading="aggregations")
    //-     div.row
    //-       div.col-xs-12
    //-         .form-group
    //-           label.control-label Aggregation
    //-           select.form-control.m-b(ng-model="form.x.aggregations[0].type")
    //-             option(value="count") Count
    //-             option(value="avg") Average
    //-             option(value="sum") Sum
    //-             option(value="timeseries") TimeSeries
    //-         .form-group
    //-           label.control-label Field      
    //-           select.form-control.m-b(ng-model="form.x.aggregations[0].field")
    //-             option(value="metric") metric
    //-             option(value="quantity") quantity
    //-             option(value="type") type
    //-             option(value="ts") ts
    //-       div.col-xs-12
    //-         a.btn.btn-default.btn-outline.btn-block.btn-sm
    //-           i.fa.fa-plus-circle
    //-           | &nbsp; Add new
  accordion-group(heading="Order")
    div.row
      div.col-xs-12
        a.btn.btn-default.btn-outline.btn-block.btn-sm
          i.fa.fa-plus-circle
          | &nbsp; Add new
    //- div.row
    //-   div.col-xs-12
    //-     .form-group
    //-       label.control-label Aggregation
    //-       select.form-control.m-b(ng-model="form.order.aggregation")
    //-         option(value="agg1") agg1
    //-         option(value="agg2") agg2
    //-     .form-group
    //-       label.control-label Type      
    //-       select.form-control.m-b(ng-model="form.order.type")
    //-         option(value="desc") Desc
    //-         option(value="asc") Asc
  accordion-group(heading="Limit data")
    div.row
      div.col-xs-12
        .form-group
          label.control-label Limit results
          input.form-control(type="number", ng-model="form.limit")